@model RoomType
@using Microsoft.AspNetCore.Identity
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

<!DOCTYPE html>
<html lang="zxx">

<!-- Mirrored from duruthemes.com/demo/html/cappa/demo1-light/room-details.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 14 Apr 2025 11:13:10 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>The Cappa Luxury Hotel</title>
    <link rel="shortcut icon" href="@Url.Content("~/img/client/favicon.png")" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Barlow&family=Barlow+Condensed&family=Gilda+Display&display=swap">
    <link rel="stylesheet" href="@Url.Content("~/css/client/plugins.css")" />
    <link rel="stylesheet" href="@Url.Content("~/css/client/style.css")" />
</head>
<body>
    <!-- Preloader -->
    <div class="preloader-bg"></div>
    <div id="preloader">
        <div id="preloader-status">
            <div class="preloader-position loader"> <span></span> </div>
        </div>
    </div>
    <!-- Progress scroll totop -->
    <div class="progress-wrap cursor-pointer">
        <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
            <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
        </svg>
    </div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <!-- Logo -->
            <div class="logo-wrapper">
                <a class="logo" href="index.html"> <img src="~/img/client/logo.png" class="logo-img" alt=""> </a>
                <!-- <a class="logo" href="index.html"> <h2>THE CAPPA <span>Luxury Hotel</span></h2> </a> -->
            </div>
            <!-- Button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"><i class="ti-menu"></i></span> </button>
            <!-- Menu -->
            <div class="collapse navbar-collapse" id="navbar">
                <ul class="navbar-nav ms-auto">


                    <li class="nav-item dropdown">
                        <a class="nav-link" href="/Home/Index">Home</a>

                    </li>
                    <li class="nav-item"><a class="nav-link" href="/Home/About">About</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link " href="/Home/Rooms">Rooms & Suites</a>

                    </li>
                    <li class="nav-item"><a class="nav-link" href="/Home/Restaurant">Restaurant</a></li>
                    <li class="nav-item"><a class="nav-link" href="/Home/Spa">Spa</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="/Home/News">News </a>

                    </li>
                    <li class="nav-item"><a class="nav-link" href="/Home/Contact">Contact</a></li>


                </ul>
                <ul class="navbar-nav ms-auto">
                    @if (SignInManager.IsSignedIn(User))
                    {
                        var user = await UserManager.GetUserAsync(User);
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle d-flex align-items-center gap-2" href="#" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="ti-user"></i>
                                <span class="username">@user.FullName</span> <!-- XÓA style -->
                                <i class="ti-angle-down small"></i>
                            </a>

                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li><a class="dropdown-item" href="/Profile"><i class="ti-id-badge me-2"></i>My profile</a></li>
                                <li><a class="dropdown-item" href="/Home/MyBookings"><i class="ti-agenda me-2"></i>My bookings</a></li>
                                <li>
                                    <form asp-controller="Auth" asp-action="Logout" method="post" class="d-inline">
                                        <button type="submit" class="dropdown-item"><i class="ti-power-off me-2"></i>Log out</button>
                                    </form>
                                </li>
                            </ul>
                        </li>
                    }
                    else
                    {
                        <li class="nav-item">
                            <a class="nav-link" href="/Auth/Login"><i class="ti-user me-1"></i> Login</a>
                        </li>
                    }
                </ul>


            </div>
        </div>
    </nav>

    <!-- Room Page Slider -->
    <header class="header slider">
        <div class="owl-carousel owl-theme">
            <!-- The opacity on the image is made with "data-overlay-dark="number". You can change it using the numbers 0-9. -->
            <div class="text-center item bg-img" data-overlay-dark="3" data-background="@Url.Content("~/img/client/slider/3.jpg")"></div>
            <div class="text-center item bg-img" data-overlay-dark="3" data-background="@Url.Content("~/img/client/slider/2.jpg")"></div>
            <div class="text-center item bg-img" data-overlay-dark="3" data-background="@Url.Content("~/img/client/slider/5.jpg")"></div>
        </div>
        <!-- arrow down -->
        <div class="arrow bounce text-center">
            <a href="#" data-scroll-nav="1" class=""> <i class="ti-arrow-down"></i> </a>
        </div>
    </header>
    <!-- Room Content -->
    <section class="rooms-page section-padding" data-scroll-index="1">
        <div class="container">
            <!-- project content -->
            <div class="row">
                <div class="col-md-12">
                    <span>
                        <i class="star-rating"></i>
                        <i class="star-rating"></i>
                        <i class="star-rating"></i>
                        <i class="star-rating"></i>
                        <i class="star-rating"></i>
                    </span>
                    @* <div class="section-subtitle">Luxury Hotel</div> *@
                    <div class="section-subtitle">$@Model.Price/ Night</div>

                    <div class="section-title">@Model.Name</div>
                </div>
                <div class="col-md-8">
                    <p class="mb-30">@Model.Description</p>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Check-in</h6>
                            <ul class="list-unstyled page-list mb-30">
                                <li>
                                    <div class="page-list-icon"> <span class="ti-check"></span> </div>
                                    <div class="page-list-text">
                                        <p>Check-in from 12:00 AM</p>
                                    </div>
                                </li>
                                <li>
                                    <div class="page-list-icon"> <span class="ti-check"></span> </div>
                                    <div class="page-list-text">
                                        <p>Early check-in subject to availability</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Check-out</h6>
                            <ul class="list-unstyled page-list mb-30">
                                <li>
                                    <div class="page-list-icon"> <span class="ti-check"></span> </div>
                                    <div class="page-list-text">
                                        <p>Check-out before noon</p>
                                    </div>
                                </li>
                                <li>
                                    <div class="page-list-icon"> <span class="ti-check"></span> </div>
                                    <div class="page-list-text">
                                        <p>Express check-out</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-12">
                            <h6>Special check-in instructions</h6>
                            <p>Guests will receive an email 5 days before arrival with check-in instructions; front desk staff will greet guests on arrival For more details, please contact the property using the information on the booking confirmation.</p>
                        </div>
                        <div class="col-md-12">
                            <h6>Pets</h6>
                            <p>Pets not allowed</p>
                        </div>
                        <div class="col-md-12">
                            <h6>Children and extra beds</h6>
                            <p>Children are welcome Kids stay free! Children stay free when using existing bedding; children may not be eligible for complimentary breakfast Rollaway/extra beds are available for $ 10 per day.</p>
                        </div>
                        <div class="col-md-12">
                            <button type="button" class="btn btn-dark rounded-pill" data-bs-toggle="modal" data-bs-target="#bookingModal">
                                Book Now
                            </button>

                        </div>

                    </div>
                </div>
                <div class="col-md-3 offset-md-1">
                    <h6>Amenities</h6>
                    <ul class="list-unstyled page-list mb-30">
                        <li>
                            <div class="page-list-icon"> <span class="flaticon-group"></span> </div>
                            <div class="page-list-text">
                                <p>1-2 Persons</p>
                            </div>
                        </li>
                        <li>
                            <div class="page-list-icon"> <span class="flaticon-wifi"></span> </div>
                            <div class="page-list-text">
                                <p>Free Wifi</p>
                            </div>
                        </li>
                        <li>
                            <div class="page-list-icon"> <span class="flaticon-clock-1"></span> </div>
                            <div class="page-list-text">
                                <p>200 sqft room</p>
                            </div>
                        </li>
                        <li>
                            <div class="page-list-icon"> <span class="flaticon-breakfast"></span> </div>
                            <div class="page-list-text">
                                <p>Breakfast</p>
                            </div>
                        </li>
                        <li>
                            <div class="page-list-icon"> <span class="flaticon-towel"></span> </div>
                            <div class="page-list-text">
                                <p>Towels</p>
                            </div>
                        </li>
                        <li>
                            <div class="page-list-icon"> <span class="flaticon-swimming"></span> </div>
                            <div class="page-list-text">
                                <p>Swimming Pool</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- Similiar Room -->
    @* <section class="rooms1 section-padding bg-blck"> *@
    @*     <div class="container"> *@
    @*         <div class="row"> *@
    @*             <div class="col-md-12"> *@
    @*                 <div class="section-subtitle"><span>Luxury Hotel</span></div> *@
    @*                 <div class="section-title"><span>Similar Rooms</span></div> *@
    @*             </div> *@
    @*         </div> *@
    @*         <div class="row"> *@
    @*             <div class="col-md-12"> *@
    @*                 <div class="owl-carousel owl-theme"> *@
    @*                     <div class="item"> *@
    @*                         <div class="position-re o-hidden"> <img src="~/img/client/rooms/1.jpg" alt=""> </div> <span class="category"><a href="rooms2.html">Book</a></span> *@
    @*                         <div class="con"> *@
    @*                             <h6><a href="room-details.html">150$ / Night</a></h6> *@
    @*                             <h5><a href="room-details.html">Junior Suite</a> </h5> *@
    @*                             <div class="line"></div> *@
    @*                             <div class="row facilities"> *@
    @*                                 <div class="col col-md-7"> *@
    @*                                     <ul> *@
    @*                                         <li><i class="flaticon-bed"></i></li> *@
    @*                                         <li><i class="flaticon-bath"></i></li> *@
    @*                                         <li><i class="flaticon-breakfast"></i></li> *@
    @*                                         <li><i class="flaticon-towel"></i></li> *@
    @*                                     </ul> *@
    @*                                 </div> *@
    @*                                 <div class="col col-md-5 text-end"> *@
    @*                                     <div class="permalink"><a href="room-details.html">Details <i class="ti-arrow-right"></i></a></div> *@
    @*                                 </div> *@
    @*                             </div> *@
    @*                         </div> *@
    @*                     </div> *@
    @*                     <div class="item"> *@
    @*                         <div class="position-re o-hidden"> <img src="~/img/client/rooms/2.jpg" alt=""> </div> <span class="category"><a href="rooms2.html">Book</a></span> *@
    @*                         <div class="con"> *@
    @*                             <h6><a href="room-details.html">200$ / Night</a></h6> *@
    @*                             <h5><a href="room-details.html">Family Room</a></h5> *@
    @*                             <div class="line"></div> *@
    @*                             <div class="row facilities"> *@
    @*                                 <div class="col col-md-7"> *@
    @*                                     <ul> *@
    @*                                         <li><i class="flaticon-bed"></i></li> *@
    @*                                         <li><i class="flaticon-bath"></i></li> *@
    @*                                         <li><i class="flaticon-breakfast"></i></li> *@
    @*                                         <li><i class="flaticon-towel"></i></li> *@
    @*                                     </ul> *@
    @*                                 </div> *@
    @*                                 <div class="col col-md-5 text-end"> *@
    @*                                     <div class="permalink"><a href="room-details.html">Details <i class="ti-arrow-right"></i></a></div> *@
    @*                                 </div> *@
    @*                             </div> *@
    @*                         </div> *@
    @*                     </div> *@
    @*                     <div class="item"> *@
    @*                         <div class="position-re o-hidden"> <img src="~/img/client/rooms/5.jpg" alt=""> </div> <span class="category"><a href="rooms2.html">Book</a></span> *@
    @*                         <div class="con"> *@
    @*                             <h6><a href="room-details.html">250$ / Night</a></h6> *@
    @*                             <h5><a href="room-details.html">Double Room</a></h5> *@
    @*                             <div class="line"></div> *@
    @*                             <div class="row facilities"> *@
    @*                                 <div class="col col-md-7"> *@
    @*                                     <ul> *@
    @*                                         <li><i class="flaticon-bed"></i></li> *@
    @*                                         <li><i class="flaticon-bath"></i></li> *@
    @*                                         <li><i class="flaticon-breakfast"></i></li> *@
    @*                                         <li><i class="flaticon-towel"></i></li> *@
    @*                                     </ul> *@
    @*                                 </div> *@
    @*                                 <div class="col col-md-5 text-end"> *@
    @*                                     <div class="permalink"><a href="room-details.html">Details <i class="ti-arrow-right"></i></a></div> *@
    @*                                 </div> *@
    @*                             </div> *@
    @*                         </div> *@
    @*                     </div> *@
    @*                     <div class="item"> *@
    @*                         <div class="position-re o-hidden"> <img src="~/img/client/rooms/6.jpg" alt=""> </div> <span class="category"><a href="rooms2.html">Book</a></span> *@
    @*                         <div class="con"> *@
    @*                             <h6><a href="room-details.html">300$ / Night</a></h6> *@
    @*                             <h5><a href="room-details.html">Deluxe Room</a></h5> *@
    @*                             <div class="line"></div> *@
    @*                             <div class="row facilities"> *@
    @*                                 <div class="col col-md-7"> *@
    @*                                     <ul> *@
    @*                                         <li><i class="flaticon-bed"></i></li> *@
    @*                                         <li><i class="flaticon-bath"></i></li> *@
    @*                                         <li><i class="flaticon-breakfast"></i></li> *@
    @*                                         <li><i class="flaticon-towel"></i></li> *@
    @*                                     </ul> *@
    @*                                 </div> *@
    @*                                 <div class="col col-md-5 text-end"> *@
    @*                                     <div class="permalink"><a href="room-details.html">Details <i class="ti-arrow-right"></i></a></div> *@
    @*                                 </div> *@
    @*                             </div> *@
    @*                         </div> *@
    @*                     </div> *@
    @*                     <div class="item"> *@
    @*                         <div class="position-re o-hidden"> <img src="~/img/client/rooms/8.jpg" alt=""> </div> <span class="category"><a href="rooms2.html">Book</a></span> *@
    @*                         <div class="con"> *@
    @*                             <h6><a href="room-details.html">150$ / Night</a></h6> *@
    @*                             <h5><a href="room-details.html">Superior Room</a></h5> *@
    @*                             <div class="line"></div> *@
    @*                             <div class="row facilities"> *@
    @*                                 <div class="col col-md-7"> *@
    @*                                     <ul> *@
    @*                                         <li><i class="flaticon-bed"></i></li> *@
    @*                                         <li><i class="flaticon-bath"></i></li> *@
    @*                                         <li><i class="flaticon-breakfast"></i></li> *@
    @*                                         <li><i class="flaticon-towel"></i></li> *@
    @*                                     </ul> *@
    @*                                 </div> *@
    @*                                 <div class="col col-md-5 text-end"> *@
    @*                                     <div class="permalink"><a href="room-details.html">Details <i class="ti-arrow-right"></i></a></div> *@
    @*                                 </div> *@
    @*                             </div> *@
    @*                         </div> *@
    @*                     </div> *@
    @*                     <div class="item"> *@
    @*                         <div class="position-re o-hidden"> <img src="~/img/client/rooms/5.jpg" alt=""> </div> <span class="category"><a href="rooms2.html">Book</a></span> *@
    @*                         <div class="con"> *@
    @*                             <h6><a href="room-details.html">400$ / Night</a></h6> *@
    @*                             <h5><a href="room-details.html">Wellness Room</a></h5> *@
    @*                             <div class="line"></div> *@
    @*                             <div class="row facilities"> *@
    @*                                 <div class="col col-md-7"> *@
    @*                                     <ul> *@
    @*                                         <li><i class="flaticon-bed"></i></li> *@
    @*                                         <li><i class="flaticon-bath"></i></li> *@
    @*                                         <li><i class="flaticon-breakfast"></i></li> *@
    @*                                         <li><i class="flaticon-towel"></i></li> *@
    @*                                     </ul> *@
    @*                                 </div> *@
    @*                                 <div class="col col-md-5 text-end"> *@
    @*                                     <div class="permalink"><a href="room-details.html">Details <i class="ti-arrow-right"></i></a></div> *@
    @*                                 </div> *@
    @*                             </div> *@
    @*                         </div> *@
    @*                     </div> *@
    @*                 </div> *@
    @*             </div> *@
    @*         </div> *@
    @*     </div> *@
    @* </section> *@
    <!-- Pricing -->
    <section class="pricing section-padding">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="section-subtitle"><span>Best Prices</span></div>
                    <div class="section-title">Extra Services</div>
                    <p>The best prices for your relaxing vacation. The utanislen quam nestibulum ac quame odion elementum sceisue the aucan.</p>
                    <p>Orci varius natoque penatibus et magnis disney parturient monte nascete ridiculus mus nellen etesque habitant morbine.</p>
                    <div class="reservations mb-30">
                        <div class="icon"><span class="flaticon-call"></span></div>
                        <div class="text">
                            <p>For information</p> <a href="tel:855-100-4444">855 100 4444</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="owl-carousel owl-theme">
                        <div class="pricing-card">
                            <img src="~/img/client/pricing/1.jpg" alt="">
                            <div class="desc">
                                <div class="name">Room cleaning</div>
                                <div class="amount">$50<span>/ month</span></div>
                                <ul class="list-unstyled list">
                                    <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                    <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                    <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                                </ul>
                            </div>
                        </div>
                        <div class="pricing-card">
                            <img src="~/img/client/pricing/2.jpg" alt="">
                            <div class="desc">
                                <div class="name">Drinks included</div>
                                <div class="amount">$30<span>/ daily</span></div>
                                <ul class="list-unstyled list">
                                    <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                    <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                    <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                                </ul>
                            </div>
                        </div>
                        <div class="pricing-card">
                            <img src="~/img/client/pricing/3.jpg" alt="">
                            <div class="desc">
                                <div class="name">Room Breakfast</div>
                                <div class="amount">$30<span>/ daily</span></div>
                                <ul class="list-unstyled list">
                                    <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                    <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                    <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                                </ul>
                            </div>
                        </div>
                        <div class="pricing-card">
                            <img src="~/img/client/pricing/4.jpg" alt="">
                            <div class="desc">
                                <div class="name">Safe & Secure</div>
                                <div class="amount">$15<span>/ daily</span></div>
                                <ul class="list-unstyled list">
                                    <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                    <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                    <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Reservation & Booking Form -->

    <!-- Clients -->
    <section class="clients">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <div class="owl-carousel owl-theme">
                        <div class="clients-logo">
                            <a href="#0"><img src="~/img/client/clients/1.png" alt=""></a>
                        </div>
                        <div class="clients-logo">
                            <a href="#0"><img src="~/img/client/clients/2.png" alt=""></a>
                        </div>
                        <div class="clients-logo">
                            <a href="#0"><img src="~/img/client/clients/3.png" alt=""></a>
                        </div>
                        <div class="clients-logo">
                            <a href="#0"><img src="~/img/client/clients/4.png" alt=""></a>
                        </div>
                        <div class="clients-logo">
                            <a href="#0"><img src="~/img/client/clients/5.png" alt=""></a>
                        </div>
                        <div class="clients-logo">
                            <a href="#0"><img src="~/img/client/clients/6.png" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-top">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <div class="footer-column footer-about">
                            <h3 class="footer-title">About Hotel</h3>
                            <p class="footer-about-text">Welcome to the best five-star deluxe hotel in New York. Hotel elementum sesue the aucan vestibulum aliquam justo in sapien rutrum volutpat.</p>

                            <div class="footer-language">
                                <i class="lni ti-world"></i>
                                <select onchange="location = this.value;">
                                    <option value="#0">English</option>
                                    <option value="#0">German</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 offset-md-1">
                        <div class="footer-column footer-explore clearfix">
                            <h3 class="footer-title">Explore</h3>
                            <ul class="footer-explore-list list-unstyled">
                                <li><a href="index.html">Home</a></li>
                                <li><a href="rooms.html">Rooms & Suites</a></li>
                                <li><a href="restaurant.html">Restaurant</a></li>
                                <li><a href="spa-wellness.html">Spa & Wellness</a></li>
                                <li><a href="about.html">About Hotel</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="footer-column footer-contact">
                            <h3 class="footer-title">Contact</h3>
                            <p class="footer-contact-text">1616 Broadway NY, New York 10001<br>United States of America</p>
                            <div class="footer-contact-info">
                                <p class="footer-contact-phone"><span class="flaticon-call"></span> 855 100 4444</p>
                                <p class="footer-contact-mail">info@luxuryhotel.com</p>
                            </div>
                            <div class="footer-about-social-list">
                                <a href="#"><i class="ti-instagram"></i></a>
                                <a href="#"><i class="ti-twitter"></i></a>
                                <a href="#"><i class="ti-youtube"></i></a>
                                <a href="#"><i class="ti-facebook"></i></a>
                                <a href="#"><i class="ti-pinterest"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="footer-bottom-inner">
                            <p class="footer-bottom-copy-right">© Copyright 2024 by <a href="#">DuruThemes.com</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    @* Booking form *@
    <!-- Booking Modal -->
    <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content rounded-4 p-4">
                <div class="modal-header border-0 pb-0">
                    <h5 class="modal-title fw-bold" id="bookingModalLabel">Booking: @Model.Name</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <form id="confirm-booking-form" asp-controller="Home" asp-action="CreateBooking" method="post">
                    @Html.AntiForgeryToken()
                    <div id="room-booking-alert"></div>

                    <input type="hidden" name="RoomTypeID" value="@Model.RoomTypeID" />
                    <input type="hidden" name="CheckInDate" />
                    <input type="hidden" name="CheckOutDate" />

                    <div class="modal-body py-0">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Check-in</label>
                                <input type="date" name="CheckInDisplay" id="checkInDisplay"
                                       value="@DateTime.Now.ToString("yyyy-MM-dd")"
                                       class="form-control form-control-lg rounded-pill" required />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Check-out</label>
                                <input type="date" name="CheckOutDisplay" id="checkOutDisplay"
                                       value="@DateTime.Now.AddDays(1).ToString("yyyy-MM-dd")"
                                       class="form-control form-control-lg rounded-pill" required />
                            </div>
                            <div class="col-md-12 mb-3">
                                <label class="form-label">Room Quantity</label>
                                <input type="number" name="RoomQuantity" min="1" value="1" class="form-control form-control-lg rounded-pill" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Adults / Room</label>
                                <input type="number" name="Adults" min="1" class="form-control form-control-lg rounded-pill" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Children / Room</label>
                                <input type="number" name="Children" min="0" class="form-control form-control-lg rounded-pill" required>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer border-0 pt-0">
                        <button type="button" class="btn btn-secondary rounded-pill px-4" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-dark rounded-pill px-4">Confirm Booking</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- End Booking Modal -->
    <div class="position-fixed top-0 start-0 p-3" style="z-index: 9999">
        <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">Đặt phòng thành công 🎉</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>



    <!-- jQuery -->
    <script src="@Url.Content("~/js/client/jquery-3.6.3.min.js")"></script>
    <script src="@Url.Content("~/js/client/jquery-migrate-3.0.0.min.js")"></script>
    <script src="@Url.Content("~/js/client/modernizr-2.6.2.min.js")"></script>
    <script src="@Url.Content("~/js/client/imagesloaded.pkgd.min.js")"></script>
    <script src="@Url.Content("~/js/client/jquery.isotope.v3.0.2.js")"></script>
    <script src="@Url.Content("~/js/client/pace.js")"></script>
    <script src="@Url.Content("~/js/client/popper.min.js")"></script>
    <script src="@Url.Content("~/js/client/bootstrap.min.js")"></script>
    <script src="@Url.Content("~/js/client/scrollIt.min.js")"></script>
    <script src="@Url.Content("~/js/client/jquery.waypoints.min.js")"></script>
    <script src="@Url.Content("~/js/client/owl.carousel.min.js")"></script>
    <script src="@Url.Content("~/js/client/jquery.stellar.min.js")"></script>
    <script src="@Url.Content("~/js/client/jquery.magnific-popup.js")"></script>
    <script src="@Url.Content("~/js/client/YouTubePopUp.js")"></script>
    <script src="@Url.Content("~/js/client/select2.js")"></script>
    <script src="@Url.Content("~/js/client/datepicker.js")"></script>
    <script src="@Url.Content("~/js/client/smooth-scroll.min.js")"></script>
    <script src="@Url.Content("~/js/client/custom.js")"></script>
    @* <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> *@
    @* <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script> *@


    <script>
        $(document).on('submit', '#confirm-booking-form', function (e) {
            e.preventDefault();
            console.log('🧠 Bắt đầu xử lý đặt phòng...');

            const form = $(this);
            const button = form.find('button[type="submit"]');
            const alertBox = $('#room-booking-alert');
            alertBox.html("");
            button.prop('disabled', true).text('Checking...');

            const checkInStr = $('#checkInDisplay').val();
            const checkOutStr = $('#checkOutDisplay').val();

            if (!checkInStr || !checkOutStr) {
                alertBox.html(`
                    <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
                        Nhập đủ ngày check-in và check-out nha bạn ơi 😅
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                `);
                button.prop('disabled', false).text('Confirm Booking');
                return;
            }

            const parseDate = (str) => {
                const parts = str.split("-");
                return new Date(parts[0], parts[1] - 1, parts[2]);
            };

            const checkInDate = parseDate(checkInStr);
            const checkOutDate = parseDate(checkOutStr);

            if (checkOutDate <= checkInDate) {
                alertBox.html(`
                    <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
                        Ngày trả phòng phải sau ngày nhận phòng bạn ơi 🥲
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                `);
                button.prop('disabled', false).text('Confirm Booking');
                return;
            }

            const data = {
                RoomTypeID: parseInt(form.find('input[name="RoomTypeID"]').val()),
                CheckInDate: checkInStr,
                CheckOutDate: checkOutStr,
                RoomQuantity: parseInt(form.find('input[name="RoomQuantity"]').val()),
                Adults: parseInt(form.find('input[name="Adults"]').val()),
                Children: parseInt(form.find('input[name="Children"]').val())
            };

            $.ajax({
                url: '/Home/ConfirmBookingWithCheck', // ✅ API mới
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function (res) {
                    button.prop('disabled', false).text('Confirm Booking');

                    if (res.success) {
                        const toastElement = document.getElementById('successToast');
                        const toast = new bootstrap.Toast(toastElement);
                        toast.show();

                        setTimeout(() => {
                            window.location.href = '/Home/Index';
                        }, 3000);
                    } else {
                        alertBox.html(`
                            <div class="alert alert-warning alert-dismissible fade show mt-3" role="alert">
                                ${res.message}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        `);
                    }
                },
                error: function () {
                    button.prop('disabled', false).text('Confirm Booking');
                    alertBox.html(`
                        <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
                            Lỗi kết nối máy chủ. Vui lòng thử lại sau 😵
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    `);
                }
            });
        });
    </script>


    <style>
        #room-booking-alert .alert {
            font-size: 16px;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
        }
    </style>




</body>

</html>